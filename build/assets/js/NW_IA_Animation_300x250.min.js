var tl=gsap.timeline({defaults:{paused:!1,duration:.5,ease:"power3.out"}}),initBanner=function(){var o,n,r,i,a,l,c,d,s,u,p,b,f,g,m,h,C={black:"#000000",coolgray8:"#87898b",darkblue:"#141b4d",lightblue:"#8cc8e9",lightmint:"#6eceb2",mediumblue:"#1f74db",nwblue:"#1c57a5",vibrantblue:"#0047bb",white:"#ffffff"},y={"DarkBlue-White":{bgColor:"darkblue",ctaBtnColor:"mintgreen",ctaTxtColor:"darkblue",logoColor:"white",ribbonColor:"lightblue",ribbonTxtColor:"darkblue",replayColor:"white",txtColor:"white",swipeColor:"lightblue"},"VibrantBlue-White":{bgColor:"vibrantblue",ctaTxtColor:"darkblue",logoColor:"white",ribbonColor:"darkblue",ribbonTxtColor:"white",replayColor:"white",txtColor:"white",swipeColor:"mediumblue"},"VibrantBlue-White-EndStripe":{bgColor:"vibrantblue",ctaTxtColor:"darkblue",logoColor:"white",ribbonColor:"darkblue",ribbonTxtColor:"white",replayColor:"white",txtColor:"white",stripeColor:"darkblue",swipeColor:"mediumblue"},"White-DarkBlue":{bgColor:"white",ctaBtnColor:"mintgreen",ctaTxtColor:"darkblue",logoColor:"3 Color",ribbonColor:"darkblue",ribbonTxtColor:"white",replayColor:"darkblue",txtColor:"darkblue",swipeColor:"darkblue"}};function v(t,e){console.log("%c "+t,"background: rgba(51, 255, 0, 0.3); color:"+(e||"white")+";")}function w(t){return document.getElementById(t)}function e(t){return null!==t&&"object"==typeof t}function x(t){return"string"==typeof t}function T(t){return e(t)&&"number"==typeof t.length&&0<t.length}function k(t){return e(t)&&0<Object.keys(t).length&&null!==Object.keys(t)[0]}function L(t,e,o){t.classList.remove(e),t.classList.add(o)}function S(t){return t.replace(/\s/g,"")}function B(o,n){Object.keys(n).forEach(function(t){var e=x(n[t])?n[t]:function(t){return t.toString()+"px"}(n[t]);v("\t\t "+t+":"+(o.style[t]=e))})}function E(o,t){v("* applyFeedCss "+gsap.getProperty(o,"id")+" "+t),T(t)&&t.forEach(function(t){var e=function(t){var e={},o=(t=S(t)).split(":"),n=o[0],r=o[1];return e[n]=r,e}(t);B(o,e)})}function P(t,e,o,n){var r=T(o),i=n&&k(n);e=e.split(" <br>").join("<br>"),t.innerHTML=e,i&&B(t,n),r&&E(t,o)}function I(t,e,o){var n=T(e),r=!n&&k(e);o&&x(o)&&f.total++,t.onload=function(){f.completed++,v(t.tagName+" #"+f.completed+"/"+f.total+" LOADED!"),W()},"IMG"==t.tagName?t.src=o:"image"==t.tagName&&t.setAttribute("href",o),r?B(t,e):n&&E(t,e)}function A(t){if(!t)return!1;var e=S(t).toLowerCase();return void 0!==C[e]&&C[e]}function _(t){return function(t){return!!/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)&&t}(t)||A(t)}function R(t){var e={fromBottomLeftStart:"polygon(0% 0%, -110% 0%, 100% 200%, 100% 100%, 0% 100%)",fromBottomLeftEnd:"polygon(0% 0%, 0% -110%, 200% 100%, 100% 100%, 0% 100%)",wipeInFromLeftStart:"polygon(-166% 0%, -33% 0%, 0% 100%, -133% 100%)",wipeInFromRightStart:"polygon(100% 0%, 233% 0%, 266% 100%, 133% 100%)",wipeInEnd:"polygon(-87px 0%, 100% 0%, 133% 102%, 0% 102%)"};return e.wipeOutToLeft=e.wipeInFromLeftStart,e[t]}function t(){return gsap.timeline({paused:!1}).to("#banner",{autoAlpha:1,duration:.4})}function O(){return v("\t+ nGraphicIntroTl ","red"),gsap.timeline({paused:!1}).set(i.container,{visibility:"visible"}).add(t()).from(h.nGraphic,{scale:0,duration:.5,ease:"back.out(1.5)"},"+=1").fromTo([b.container,"#logo-container"],{clipPath:R("fromBottomLeftStart")},{clipPath:R("fromBottomLeftEnd"),duration:1},"+=1").add("f2out","+="+dc.Txt1_Pause).fromTo(i.t1,{clipPath:R("wipeInEnd")},{clipPath:R("wipeOutToLeft"),duration:1},"f2out")}function D(){v("\t+ nCropIntroTl ","orange");return r.NGraphic.t1.style.visibility="hidden",gsap.timeline({paused:!1}).set(".mask-path",{fill:A(s.bgColor)}).set(".fake-mask",{scale:4.52,x:-852,y:-734,transformOrigin:"0% 0%"}).set(i.container,{visibility:"visible"}).add(t()).add("f2","+=1").to(".fake-mask",{y:-809,duration:1,transformOrigin:"0% 0%"},"f2").fromTo("#nc-pic-back",{y:0},{y:-20,duration:.5,force3D:!1},"f2").fromTo(i.t1,{clipPath:R("wipeInFromLeftStart")},{clipPath:R("wipeInEnd"),duration:1}).from("#logo",{autoAlpha:0,duration:.3},"-=.3").add("f2out","+="+dc.Txt1_Pause).fromTo(b.container,{clipPath:R("fromBottomLeftStart")},{clipPath:R("fromBottomLeftEnd"),duration:1},"f2out")}function F(){return v("\t+ txtOnlyIntroTl ","red"),_tl=gsap.timeline({paused:!1}).set(i.container,{visibility:"visible"}).add(t()).fromTo(i.t1,{clipPath:R("wipeInFromLeftStart")},{clipPath:R("wipeInEnd"),duration:1,repeat:1,repeatDelay:dc.Txt1_Pause,yoyo:!0})}function N(){v(":: animate :: 300x250");var t=i.frame1Tl(),e=c?gsap.timeline({paused:!1}).from("#logo",{x:dc.LogoSlideX,duration:.5}):gsap.timeline({paused:!0});tl.add(t).add("end",i.overlap).fromTo("#t2",{clipPath:R("wipeInFromLeftStart")},{clipPath:R("wipeInEnd"),duration:1,ease:"power3.easein"},"end").add(e,"end").set([p.btn,p.txt],{skewX:.1},"end").fromTo(p.btn,{clipPath:R("wipeInFromLeftStart")},{clipPath:R("wipeInEnd"),duration:1},"-=0.5").fromTo(b.swipe,{x:-b.swipe.offsetWidth},{x:-b.swipe.offsetWidth/3,duration:1,ease:"power1.out"},"+=1").to(b.swipe,{x:300,duration:1,ease:"power1.in"}).add(G(),"-=1").from(g.container,{autoAlpha:0}).add(U).add("cta").add(G(),"+=1").add(M),console.log("Animation Runtime is "+tl.endTime())}function W(){if(v("imgAsyncLoadCheck "+f.completed+"/"+f.total),f.completed===f.total&&a)return clearTimeout(f.timer),void N();f.timerStarted||(f.timerStarted=!0,f.timer=setTimeout(W,50))}function G(){return gsap.timeline({paused:!1,repeat:1,repeatDelay:0,yoyo:!0}).to(p.btn,{scale:1.15,duration:.3,ease:"back.in(1.7)",force3D:!1,overwrite:!1})}function H(){return gsap.timeline({paused:!1}).to(p.btn,{scale:1.15,duration:.3,ease:"back.in(1.7)",force3D:!1,overwrite:!1})}function j(){return gsap.timeline({paused:!1}).to(p.btn,{scale:1,duration:.3,ease:"back.out(1.7)",force3D:!1,overwrite:!1})}function M(){clicker.addEventListener("mouseover",H),clicker.addEventListener("mouseout",j),p.btn.addEventListener("click",clickOut,!1)}function U(){v("initReplayAction"),g.tween={spinSpeed:.6,speed:.3,tweenFrom:{autoAlpha:0},delay:0},g.container.addEventListener("click",V,!1),g.container.addEventListener("mouseenter",X),g.container.addEventListener("mouseleave",J)}function V(){tl.restart(),g.container.blur()}function X(){g.on||(g.on=!0,gsap.to(g.svg,{duration:g.tween.spinSpeed,alpha:1}),gsap.to(g.svg,{duration:g.tween.spinSpeed,rotate:"+=360_cw",repeat:-1,transformOrigin:"center center",ease:"none"}))}function J(){g.on=!1;var t=gsap.getProperty(g.svg,"rotate"),e=t<360?360:"+="+(720-t).toString();gsap.to(g.svg,{duration:g.tween.spinSpeed,alpha:.6,rotate:e,transformOrigin:"center center",overwrite:!0,ease:"Power1.out",onComplete:function(){gsap.set(g.svg,{rotation:0})}})}return function(){v("initBanner :: v.1.1.1");var t=S(dc.BgTheme);n=S(dc.Ani_Style),u=!("VibrantBlue-White-EndStripe"!==t||dc.TxtColor||dc.RibbonColor||dc.RibbonTxtColor||dc.ReplayColor),s=y[t],l=0<dc.RibbonTxt.length,d="TextOnly"===n,c=0<dc.LogoSlideX,v("useDefaultTheme ? "+u,"red"),dc.Banner_json.Url?(o=myJson.data["300x250"][dc.Color_Version][n]).global=myJson.data.global:o={},h={nGraphic:w("n-graphic"),nGraphicPath:w("n-graphic-path")},f={total:0,completed:0,timerStarted:!1},p={btn:w("cta"),txt:w("cta-txt"),container:w("cta-container")},b={container:w("end-container"),t2:w("t2"),swipe:w("end-swipe")},g={container:w("replay-container"),svg:w("replaySvg"),path:w("replayPath"),on:!1,tween:{}},m={txt:w("ribbon-txt"),container:w("ribbon")},r={NGraphic:{frame1Tl:O,container:w("ng-parent"),t1:w("t1"),overlap:o.overlap||"-=0.3",imgBack:w("ng-pic-back"),imgFront:w("ng-pic-front")},NCrop:{frame1Tl:D,container:w("nc-parent"),t1:w("nc-t1"),overlap:o.overlap||"-=0.5",imgBack:w("nc-pic-back"),replayClass:"replay-nc"},TextOnly:{frame1Tl:F,container:w("end-container"),t1:w("t1"),overlap:o.overlap||"+=0.1",replayClass:"replay-to"}},i=r[n];var e=w("clicker");e.addEventListener("click",clickOut,!1),e.setAttribute("aria-label",dc.CtaTxt),function(){v("initImgs");var t=w("logo");I(t,dc.Logo_img_css,dc.Logo_img.Url),t.alt=o.global?o.global.logoAlt:"NationwideÂ®",d||(I(i.imgBack,null,dc.Back_img.Url),"NGraphic"===n&&I(i.imgFront,null,dc.Front_img.Url))}(),function(){if(u)return;v("+initColors ","pink"),i.t1.style.color=b.t2.style.color=_(dc.TxtColor||s.txtColor),m.txt.style.color=_(dc.RibbonTxtColor||s.ribbonTxtColor),m.container.style.backgroundColor=_(dc.RibbonColor||s.ribbonColor),g.path.style.fill=_(dc.TxtColor||s.txtColor),p.txt.style.color=s.ctaTxtColor,p.btn.style.backgroundColor=s.ctaBtnColor,b.container.style.backgroundColor=w("banner").style.backgroundColor=A(s.bgColor),b.swipe.style.backgroundColor=A(s.swipeColor),s.stripeColor&&!l?gsap.set(".stripe",{backgroundColor:A(s.stripeColor)}):gsap.set(".stripe",{visibility:"hidden"})}(),function(){v("initTxt ");l&&(P(m.txt,dc.RibbonTxt,dc.RibbonTxt_css),m.container.style.opacity=1,function(){if(m.container.offsetHeight<=20)return;v("setRibbonSize\tNEW RIBBON HEIGHT "+m.container.offsetHeight+" <= 20","red"),v(Math.ceil(m.container.offsetHeight/20)+" Lines of text","red");var t=m.container.offsetHeight,e=Math.abs(t/-1)+5;v("\t_height: "+t+"\n\t_startWidth: "+m.container.scrollWidth+"\n\t NEW RIGHT PADDING: "+e,"pink"),gsap.set(m.txt,{paddingRight:e});var o=(-1*t+m.container.scrollWidth).toString();m.container.style.clipPath="polygon(0% 0%, "+o+"px 0%, 100% 100%, 0% 100%)"}());P(p.txt,dc.CtaTxt,dc.CtaTxt_css),P(i.t1,dc.Txt1,dc.Txt1_css),P(b.t2,dc.Txt2,dc.Txt2_css),E(p.btn,dc.CtaBtn_css)}(),v("initADACompliance"),w("NCrop"===n?"nc-t1-container":"t1-container").removeAttribute("aria-hidden"),w("logo").removeAttribute("aria-hidden"),i.t1.setAttribute("role","heading"),i.t1.setAttribute("aria-level",1),l||m.txt.setAttribute("aria-hidden","true"),v("initLogo ","yellow"),l&&L(w("logo"),"logo-no-ribbon","logo-over-ribbon"),function(){v("initReplay "),i.replayClass&&L(g.container,"relay-n",i.replayClass);I(g.svg,dc.Replay_css),gsap.set(g.container,{visibility:"visibile",rotation:0})}(),a=!0,v("* initCompleted *")}()};