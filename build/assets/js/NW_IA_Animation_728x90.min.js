var tl=gsap.timeline({defaults:{paused:!1,duration:.5,ease:"power3.out"}}),initBanner=function(){var o,n,r,i,a,l,c,d,s,u,p,b,f,g,h,x={black:"#000000",coolgray8:"#87898b",darkblue:"#141b4d",lightblue:"#8cc8e9",lightmint:"#6eceb2",mediumblue:"#1f74db",nwblue:"#1c57a5",vibrantblue:"#0047bb",white:"#ffffff"},C={"DarkBlue-White":{bgColor:"darkblue",ctaBtnColor:"mintgreen",ctaTxtColor:"darkblue",logoColor:"white",ribbonColor:"lightblue",ribbonTxtColor:"darkblue",replayColor:"white",txtColor:"white",swipeColor:"lightblue"},"VibrantBlue-White":{bgColor:"vibrantblue",ctaTxtColor:"darkblue",logoColor:"white",ribbonColor:"darkblue",ribbonTxtColor:"white",replayColor:"white",txtColor:"white",swipeColor:"mediumblue"},"VibrantBlue-White-EndStripe":{bgColor:"vibrantblue",ctaTxtColor:"darkblue",logoColor:"white",ribbonColor:"darkblue",ribbonTxtColor:"white",replayColor:"white",txtColor:"white",stripeColor:"darkblue",swipeColor:"mediumblue"},"White-DarkBlue":{bgColor:"white",ctaBtnColor:"mintgreen",ctaTxtColor:"darkblue",logoColor:"3 Color",ribbonColor:"darkblue",ribbonTxtColor:"white",replayColor:"darkblue",txtColor:"darkblue",swipeColor:"darkblue"}};function m(t,e){console.log("%c "+t,"background: rgba(51, 255, 0, 0.3); color:"+(e||"white")+";")}function y(t){return document.getElementById(t)}function v(t){return t.toString()+"px"}function e(t){return null!==t&&"object"==typeof t}function w(t){return"string"==typeof t}function T(t){return e(t)&&"number"==typeof t.length&&0<t.length}function k(t){return e(t)&&0<Object.keys(t).length&&null!==Object.keys(t)[0]}function A(t,e,o){t.classList.remove(e),t.classList.add(o)}function B(t){return t.replace(/\s/g,"")}function _(o,n){Object.keys(n).forEach(function(t){var e=w(n[t])?n[t]:v(n[t]);m("\t\t "+t+":"+(o.style[t]=e))})}function P(o,t){m("* applyFeedCss "+gsap.getProperty(o,"id")+" "+t),T(t)&&t.forEach(function(t){var e=function(t){var e={},o=(t=B(t)).split(":"),n=o[0],r=o[1];return e[n]=r,e}(t);_(o,e)})}function L(t,e,o,n){var r=T(o),i=n&&k(n);e=e.split(" <br>").join("<br>"),t.innerHTML=e,i&&_(t,n),r&&P(t,o)}function E(t,e,o){var n=T(e),r=!n&&k(e);o&&w(o)&&b.total++,t.onload=function(){b.completed++,m(t.tagName+" #"+b.completed+"/"+b.total+" LOADED!"),j()},"IMG"==t.tagName?t.src=o:"image"==t.tagName&&t.setAttribute("href",o),r?_(t,e):n&&P(t,e)}function O(t){if(!t)return!1;var e=B(t).toLowerCase();return void 0!==x[e]&&x[e]}function R(t){return function(t){return!!/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)&&t}(t)||O(t)}function S(){return gsap.timeline({paused:!1}).to("#banner",{autoAlpha:1,duration:.4})}function W(t,e){var o=e.offsetWidth,n=e.offsetHeight+3;return"polygon("+(n/h-o)+"px 0px, "+n/h+"px 0px, 0px "+n+"px, "+-o+"px "+n+"px)"}function D(t,e){var o=e.offsetWidth,n=e.offsetHeight+3;return _x4=0,"polygon("+n/h+"px 0px, "+o+"px 0px, "+(-n/h+o)+"px "+n+"px, "+_x4+"px "+n+"px)"}function M(){m("\t+ nCropIntroTl ","red");var t=y("nc-parent"),e=o.endX||-212;return gsap.timeline({paused:!1}).set(i.container,{visibility:"visible"}).add(S()).from(t,{scale:1.2,autoAlpha:0,duration:.5,ease:"power3.out"}).to(t,{x:e,duration:.5,ease:"power3.inout"}).from(g.container,{x:-g.container.offsetWidth,duration:.5,ease:"power2"},"-=0.25").fromTo(i.t1,{clipPath:W},{clipPath:D,duration:1}).add("f2out","+="+dc.Txt1_Pause).to(i.t1,{clipPath:W,duration:1},"f2out")}function N(){return m("\t+ txtOnlyIntroTl ","red"),gsap.timeline({paused:!1}).set(i.container,{visibility:"visible"}).add(S()).fromTo(i.t1,{clipPath:W},{clipPath:D,duration:1,repeat:1,repeatDelay:dc.Txt1_Pause,yoyo:!0})}function j(){if(m("imgAsyncLoadCheck "+b.completed+"/"+b.total),b.completed===b.total&&a)return clearTimeout(b.timer),void function(){m(":: animate :: 728x90"),h=-1.0344827586206897;var t=i.frame1Tl();tl.add(t).add("end",i.overlap).fromTo("#t2",{clipPath:W},{clipPath:D,duration:1.5,ease:"power3.easein"},"end").set([u.btn,u.txt],{skewX:.1},"end").fromTo(u.btn,{clipPath:W},{clipPath:D,duration:1.5},"-=0.5").fromTo(p.swipe,{x:728},{x:-87,duration:1,ease:"power1.out"},"+=0.5").to(p.swipe,{x:-p.swipe.offsetWidth,duration:1,ease:"power1.in"}).add(I(),"-=1").from(f.container,{autoAlpha:0}).add(G).add("cta").add(I(),"+=1").add(V),console.log("Animation Runtime is "+tl.endTime())}();b.timerStarted||(b.timerStarted=!0,b.timer=setTimeout(j,50))}function I(){return gsap.timeline({paused:!1,repeat:1,repeatDelay:0,yoyo:!0}).to(u.btn,{scale:1.15,duration:.3,ease:"back.in(1.7)",force3D:!1,overwrite:!1})}function t(){return gsap.timeline({paused:!1}).to(u.btn,{scale:1.15,duration:.3,ease:"back.in(1.7)",force3D:!1,overwrite:!1})}function F(){return gsap.timeline({paused:!1}).to(u.btn,{scale:1,duration:.3,ease:"back.out(1.7)",force3D:!1,overwrite:!1})}function V(){clicker.addEventListener("mouseover",t),clicker.addEventListener("mouseout",F),u.btn.addEventListener("click",clickOut,!1)}function G(){m("initReplayAction"),f.tween={spinSpeed:.6,speed:.3,tweenFrom:{autoAlpha:0},delay:0},f.container.addEventListener("click",H,!1),f.container.addEventListener("mouseenter",U),f.container.addEventListener("mouseleave",J)}function H(){tl.restart(),f.container.blur()}function U(){f.on||(f.on=!0,gsap.to(f.svg,{duration:f.tween.spinSpeed,alpha:1}),gsap.to(f.svg,{duration:f.tween.spinSpeed,rotate:"+=360_cw",repeat:-1,transformOrigin:"center center",ease:"none"}))}function J(){f.on=!1;var t=gsap.getProperty(f.svg,"rotate"),e=t<360?360:"+="+(720-t).toString();gsap.to(f.svg,{duration:f.tween.spinSpeed,alpha:.6,rotate:e,transformOrigin:"center center",overwrite:!0,ease:"Power1.out",onComplete:function(){gsap.set(f.svg,{rotation:0})}})}return function(){m("initBanner :: v.2.0.1");var t=B(dc.BgTheme);n=B(dc.Ani_Style),s="VibrantBlue-White-EndStripe"===t&&!dc.TxtColor&&!dc.RibbonColor&&!dc.RibbonTxtColor,d=C[t],l=0<dc.RibbonTxt.length,c="TextOnly"===n,m("useDefaultTheme ? "+s,"red"),dc.Banner_json.Url?(o=myJson.data["728x90"][dc.Color_Version][n]).global=myJson.data.global:o={},{nGraphic:y("n-graphic"),nGraphicPath:y("n-graphic-path")},b={total:0,completed:0,timerStarted:!1},u={btn:y("cta"),txt:y("cta-txt"),container:y("cta-container")},p={container:y("end-container"),t2:y("t2"),swipe:y("end-swipe")},f={container:y("replay-container"),svg:y("replaySvg"),path:y("replayPath"),on:!1,tween:{}},g={txt:y("ribbon-txt"),container:y("ribbon")},r={NCrop:{frame1Tl:M,container:y("nc-parent"),t1:y("t1"),overlap:o.overlap||"-=0",imgBack:y("nc-pic"),replayClass:"replay-nc"},TextOnly:{frame1Tl:N,container:y("end-container"),t1:y("t1"),overlap:o.overlap||"+=0.1",replayClass:"replay-to"}},i=r[n];var e=y("clicker");e.addEventListener("click",clickOut,!1),e.setAttribute("aria-label",dc.CtaTxt),function(){m("initImgs");var t=y("logo");E(t,dc.Logo_img_css,dc.Logo_img.Url),t.alt=o.global?o.global.logoAlt:"NationwideÂ®",c||E(i.imgBack,null,dc.Back_img.Url)}(),function(){if(s)return;m("+initColors ","pink"),i.t1.style.color=p.t2.style.color=R(dc.TxtColor||d.txtColor),g.txt.style.color=R(dc.RibbonTxtColor||d.ribbonTxtColor),g.container.style.backgroundColor=R(dc.RibbonColor||d.ribbonColor),f.path.style.fill=R(dc.TxtColor||d.txtColor),u.txt.style.color=d.ctaTxtColor,u.btn.style.backgroundColor=d.ctaBtnColor,p.container.style.backgroundColor=y("banner").style.backgroundColor=O(d.bgColor),p.swipe.style.backgroundColor=O(d.swipeColor),d.stripeColor&&!l?gsap.set(".stripe",{backgroundColor:O(d.stripeColor)}):gsap.set(".stripe",{visibility:"hidden"})}(),function(){m("initTxt "),c&&(A(i.t1,"ng-t1","to-t1"),A(p.t2,"ng-t2","to-t2"),A(g.txt,"ribbon-txt","to-ribbon-txt"),A(y("t1-container"),"txt-container","to-txt-container"),A(y("t2-container"),"txt-container","to-txt-container"));l?(L(g.txt,dc.RibbonTxt,dc.RibbonTxt_css),g.container.style.opacity=1):y("t1-container").style.height=y("t2-container").style.height="100%";L(u.txt,dc.CtaTxt,dc.CtaTxt_css),L(i.t1,dc.Txt1,dc.Txt1_css),L(p.t2,dc.Txt2,dc.Txt2_css),function(){var t=u.btn.offsetWidth+8,e=y("t2-container").offsetWidth;y("t2").style.maxWidth=v(Math.round(e-t))}(),P(u.btn,dc.CtaBtn_css)}(),m("initADACompliance"),y("t1-container").removeAttribute("aria-hidden"),y("logo").removeAttribute("aria-hidden"),i.t1.setAttribute("role","heading"),i.t1.setAttribute("aria-level",1),l||g.txt.setAttribute("aria-hidden","true"),function(){if(function(){if(k(dc.CtaBtn_css))for(var t in dc.CtaBtn_css){var e=dc.CtaBtn_css[t];if(-1<e.indexOf("left")||-1<e.indexOf("right"))return!0}return!1}())return;var t=gsap.getProperty("#t2-container","width"),e=function(t){var e=Array.from(t.childNodes),r=0,o=e.reduce(function(t,e){if(e.length){var o,n=document.createRange();return n.selectNode(e),o=n.getBoundingClientRect(),n.detach(),r=o.width>r?o.width:r,Math.round(r)}},[]);return Math.round(o)}(y("t2")),o=t-e,n=Math.floor(e+o/2),r=u.container.clientWidth,i=Math.floor(n-r/2);u.container.style.left=v(i)}(),function(){m("initReplay "),i.replayClass&&A(f.container,"relay-n",i.replayClass);E(f.svg,dc.Replay_css),gsap.set(f.container,{visibility:"visibile",rotation:0})}(),a=!0,m("* initCompleted *")}()};